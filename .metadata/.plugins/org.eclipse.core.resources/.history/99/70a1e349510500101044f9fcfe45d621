package com.care.boot.game;

import java.util.List;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Param;
import com.care.boot.gamedto.GameDTO;
import com.care.boot.gamedto.PlayerStatsDTO;

@Mapper
public interface GameMapper {

    // ğŸ”¹ ê²Œì„ ê²°ê³¼ ì €ì¥ (game_history í…Œì´ë¸”)
    void insertGameResult(GameDTO gameDTO);

    // ğŸ”¹ íŠ¹ì • í”Œë ˆì´ì–´ì˜ ì ìˆ˜ ì¡°íšŒ
    PlayerStatsDTO getPlayerStats(@Param("playerId") String playerId);

    // ğŸ”¹ ìƒˆë¡œìš´ í”Œë ˆì´ì–´ì˜ ì ìˆ˜ ê¸°ë¡ ì¶”ê°€
    int createPlayerStats(@Param("playerId") String playerId);

    // ğŸ”¹ ì ìˆ˜ ì—…ë°ì´íŠ¸ (ìŠ¹ë¦¬/íŒ¨ë°°/ë¬´ìŠ¹ë¶€ ë°˜ì˜)
    int updatePlayerScore(@Param("playerId") String playerId, @Param("scoreChange") int scoreChange);

    // ğŸ”¹ ì „ì²´ ë­í‚¹ ì¡°íšŒ (ì ìˆ˜ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬)
    List<PlayerStatsDTO> getRanking();

    // ğŸ”¹ íŠ¹ì • í”Œë ˆì´ì–´ì˜ ê²Œì„ ê¸°ë¡ ì¡°íšŒ (game_history í…Œì´ë¸”)
    List<GameDTO> getGameHistory(@Param("playerId") String playerId);

    // ğŸ”¹ íŠ¹ì • ê²Œì„ IDì˜ ê¸°ë¡ ì‚­ì œ
    int deleteGameRecord(@Param("gameId") int gameId);
}
